{% extends "base.html" %}

{% block content %}
<h1>Registro de Batalhas</h1>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Data</th>
            <th>Herói 1</th>
            <th>Herói 2</th>
            <th>Vencedor</th>
        </tr>
    </thead>
    <tbody>
        {% for battle in battles %}
        <tr>
            <td>{{ battle.timestamp.astimezone(pytz.timezone('America/Sao_Paulo')).strftime('%d/%m/%Y %H:%M:%S') }}</td>
            <td>{{ battle.hero1.name if battle.hero1 else "Desconhecido" }}</td>
            <td>{{ battle.hero2.name if battle.hero2 else "Desconhecido" }}</td>
            <td>{{ battle.winner.name if battle.winner else "Empate" }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="4" class="text-center">Nenhuma batalha registrada.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<a href="/" class="btn btn-secondary">Voltar</a>
{% endblock %}
